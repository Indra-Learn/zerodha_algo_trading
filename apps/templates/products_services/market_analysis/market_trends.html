<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ html_data["page_title"] }}</title>
    <!-- Bootstrap 5 CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/market_analysis_style.css') }}">
    {% block custom_style %} {% endblock %}
</head>
<body>
    <!-- Overlay to close sidebar when clicking outside -->
    <div class="overlay" id="overlay"></div>

    <!-- Top Navigation Bar -->
    <nav class="navbar navbar-expand-lg top-navbar">
        <div class="container-fluid">
            <!-- Hamburger Button and Brand -->
            <div class="d-flex align-items-center">
                <button class="btn btn-link text-dark me-2" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <a class="navbar-brand" href="{{ url_for(html_data.brand.href) }}">{{ html_data["brand"]["name"] }}</a>
            </div>

            <!-- Navbar Items (always visible) -->
            <div class="navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="productDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Product
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="productDropdown">
                            <li><a class="dropdown-item" href="#">Overview</a></li>
                            <li><a class="dropdown-item" href="#">Features</a></li>
                            <li><a class="dropdown-item" href="#">Pricing</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">Releases</a></li>
                            <li><a class="dropdown-item" href="#">API</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="serviceDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Service
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="serviceDropdown">
                            <li><a class="dropdown-item" href="#">Implementation</a></li>
                            <li><a class="dropdown-item" href="#">Consulting</a></li>
                            <li><a class="dropdown-item" href="#">Support</a></li>
                            <li><a class="dropdown-item" href="#">Training</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="docsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Docs
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="docsDropdown">
                            <li><a class="dropdown-item" href="#">Documentation</a></li>
                            <li><a class="dropdown-item" href="#">API Reference</a></li>
                            <li><a class="dropdown-item" href="#">Guides</a></li>
                            <li><a class="dropdown-item" href="#">Examples</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="companyDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Company
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="companyDropdown">
                            <li><a class="dropdown-item" href="#">About Us</a></li>
                            <li><a class="dropdown-item" href="#">Careers</a></li>
                            <li><a class="dropdown-item" href="#">Blog</a></li>
                            <li><a class="dropdown-item" href="#">Contact</a></li>
                        </ul>
                    </li>
                </ul>

                <!-- Right side items -->
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-bell fa-fw"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-envelope fa-fw"></i></a>
                    </li>
                    <!-- Login/Signup Buttons -->
                    <li class="nav-item">
                        <div class="d-flex">
                            <button class="btn btn-login btn-sm me-2">Login</button>
                            <button class="btn btn-signup btn-sm">Sign Up</button>
                        </div>
                    </li>
                    <!-- User Profile Dropdown -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://ui-avatars.com/api/?name=John+Doe&background=4e73df&color=ffffff" class="rounded-circle me-2" height="30" alt="User Avatar">
                            <span>John Doe</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                            <li><a class="dropdown-item" href="#"><i class="fas fa-user fa-sm fa-fw me-2"></i> Profile</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-cog fa-sm fa-fw me-2"></i> Settings</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-list fa-sm fa-fw me-2"></i> Activity Log</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt fa-sm fa-fw me-2"></i> Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <div id="sidebar" class="d-flex flex-column">
        <div class="sidebar-header">
            <h5>{{ html_data["sidebar_menu_header"] }}</h5>
        </div>

        <!-- Sidebar-Menu -->
        <div class="sidebar-menu flex-grow-1">
            <ul class="nav flex-column">
            {% for sb_menu in html_data["sidebar"] %}
                <li class="nav-item">
                {% if sb_menu.sub_menu|length == 0 %}
                    <a class="nav-link" href="{% if sb_menu.href != '#' %} {{ url_for(sb_menu.href) }} {% endif %}"><i class="{{ sb_menu.icon }}"></i>{{ sb_menu.menu }}</a>
                {% else %}
                    <!-- Sidebar-Menu-SubMenu -->
                    <a class="nav-link sidebar-dropdown-toggle" href="#" data-target="sidebar_submenu_{{ sb_menu.menu }}">  <!-- href="{{ sb_menu.href }}" -->
                        <i class="{{ sb_menu.icon }}"></i> {{ sb_menu.menu }}<span class="float-end"><i class="fas fa-chevron-down"></i></span>
                    </a>
                    <ul class="nav flex-column sidebar-submenu" id="sidebar_submenu_{{ sb_menu.menu }}">
                    {% for sb_menu_sub in sb_menu.sub_menu %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% if sb_menu.href != '#' %} {{ url_for(sb_menu_sub.href) }} {% endif %}">{{ sb_menu_sub.name }}</a>
                        </li>
                    {% endfor %}
                    </ul>
                {% endif %}
                </li>
            {% endfor %}
            </ul>
        </div>

        <div class="sidebar-footer p-3 border-top border-secondary">
            <div class="text-muted small">Â© 2026 TheDataFestAI</div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="content">
        <div class="container-fluid">
            <!--  -->

            <!-- Page Heading -->
            <div class="d-sm-flex align-items-center justify-content-between mb-4">
                <h1 class="h5 mb-0 text-gray-800"> {{ html_data["main_content_header"] }}, as of: <b>{{ html_data["current_date"] }}</b></h1>
                <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">
                    <i class="fas fa-download fa-sm text-white-50"></i> Generate Report - Commig Soon
                </a>
            </div>

            <!-- Stats Cards Row 1 -->
            <div class="row">
                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card stats-card border-left-primary shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Portfolio Value</div>
                                    <div class="stats-value text-gray-800">$284,526</div>
                                    <div class="stats-change positive">+12.5% <small class="text-muted">vs last month</small></div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-wallet fa-2x text-primary"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card stats-card border-left-success shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Total Gain</div>
                                    <div class="stats-value text-gray-800">$32,845</div>
                                    <div class="stats-change positive">+8.3% <small class="text-muted">this year</small></div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-chart-line fa-2x text-success"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card stats-card border-left-info shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Active Positions</div>
                                    <div class="stats-value text-gray-800">24</div>
                                    <div class="text-muted"><small>8 stocks, 16 crypto</small></div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-briefcase fa-2x text-info"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card stats-card border-left-warning shadow h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">Cash Available</div>
                                    <div class="stats-value text-gray-800">$18,250</div>
                                    <div class="text-muted"><small>Ready for investment</small></div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-dollar-sign fa-2x text-warning"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Content Row -->
            <div class="row">
                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-primary card-dashboard h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                        Earnings (Monthly)</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">$40,000</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-calendar fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-success card-dashboard h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">
                                        Earnings (Annual)</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">$215,000</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-info card-dashboard h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Tasks
                                    </div>
                                    <div class="row no-gutters align-items-center">
                                        <div class="col-auto">
                                            <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">50%</div>
                                        </div>
                                        <div class="col">
                                            <div class="progress progress-sm mr-2">
                                                <div class="progress-bar bg-info" role="progressbar"
                                                    style="width: 50%" aria-valuenow="50" aria-valuemin="0"
                                                    aria-valuemax="100"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-clipboard-list fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6 mb-4">
                    <div class="card border-left-warning card-dashboard h-100 py-2">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
                                        Pending Requests</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">18</div>
                                </div>
                                <div class="col-auto">
                                    <i class="fas fa-comments fa-2x text-gray-300"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Row -->
            <div class="row">
                <div class="col-12">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                            <h6 class="m-0 font-weight-bold text-primary">Overview</h6>
                        </div>
                        <div class="card-body">
                            <p>This is a responsive dashboard layout with a toggleable sidebar and a top navigation bar. The sidebar can be toggled using the hamburger icon in the top left corner.</p>
                            <p class="mb-0">The top navbar includes dropdown menus for Product, Service, Docs, and Company on the left side, and login/signup buttons along with a user profile dropdown on the right side. The sidebar is scrollable and includes submenus for Orders, Customers, and Settings.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const content = document.getElementById('content');
            const sidebarToggle = document.getElementById('sidebarToggle');
            const overlay = document.getElementById('overlay');
            
            // Toggle sidebar
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('show');
                content.classList.toggle('shifted');
                overlay.classList.toggle('show');
                
                // Toggle hamburger icon
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-bars')) {
                    icon.classList.replace('fa-bars', 'fa-times');
                } else {
                    icon.classList.replace('fa-times', 'fa-bars');
                }
            });
            
            // Close sidebar when clicking on overlay
            overlay.addEventListener('click', function() {
                sidebar.classList.remove('show');
                content.classList.remove('shifted');
                overlay.classList.remove('show');
                const icon = sidebarToggle.querySelector('i');
                if (icon.classList.contains('fa-times')) {
                    icon.classList.replace('fa-times', 'fa-bars');
                }
            });
            
            // Toggle sidebar submenus
            const sidebarDropdownToggles = document.querySelectorAll('.sidebar-dropdown-toggle');
            sidebarDropdownToggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('data-target');
                    const submenu = document.getElementById(target);
                    submenu.classList.toggle('show');
                    
                    // Rotate chevron icon
                    const chevron = this.querySelector('.fa-chevron-down');
                    chevron.classList.toggle('fa-rotate-180');
                });
            });
            
            // Close sidebar when clicking on a link (optional)
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    if (window.innerWidth < 768 && !this.classList.contains('sidebar-dropdown-toggle')) {
                        sidebar.classList.remove('show');
                        content.classList.remove('shifted');
                        overlay.classList.remove('show');
                        const icon = sidebarToggle.querySelector('i');
                        if (icon.classList.contains('fa-times')) {
                            icon.classList.replace('fa-times', 'fa-bars');
                        }
                    }
                });
            });
            
            // Handle window resize
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    overlay.classList.remove('show');
                } else if (sidebar.classList.contains('show')) {
                    overlay.classList.add('show');
                }
            });
        });
    </script>
</body>
</html>