<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    {% block custom_style %} {% endblock %}
</head>
<body>
    <!-- Top Navigation Bar -->
    <nav class="top-nav">
        <div class="logo-section">
            <div class="hamburger">
                <div></div>
                <div></div>
                <div></div>
            </div>
            <a href="{{ url_for('home.home') }}">
            <div class="logo">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Company Logo" onerror="this.style.display='none'">
                TheDataFestAI
            </div>
            </a>
            <div class="menu-items">
                <!--<a href="{{ url_for('home.ticker') }}" class="{{ 'active' if active_page == 'ticker' }}">Ticker</a>-->

                <!-- Products & Services Dropdown -->
                <div class="dropdown">
                    <div class="dropdown-toggle">
                        Products & Services <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="dropdown-menu" style="width: 300px;">
                        <a href="{{ url_for('products_services.market_analysis.market_analysis_home') }}" class="dropdown-item">
                            <i class="fas fa-chart-line"></i>
                            <span>Market Analytics</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-bolt"></i>
                            <span>Algo Trading</span>
                        </a>
                        <a href="{{ url_for('products_services.portfolio_tracker.portfolio_tracker_home') }}" class="dropdown-item">
                            <i class="fas fa-bolt"></i>
                            <span>Portfolio Tracker</span>
                        </a>
                        <div class="divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-database"></i>
                            <span>Data Engg & Analytics</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-cloud"></i>
                            <span>Cloud Services</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-brain"></i>
                            <span>AI/ML Solutions</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Dev-Ops & Security</span>
                        </a>
                        <div class="divider"></div>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-cogs"></i>
                            <span>Consulting</span>
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-handshake"></i>
                            <span>Support</span>
                        </a>
                    </div>
                </div>
                <a href="#">Docs & APIs</a>
                <a href="#">Pricing</a>
                <a href="{{ url_for('blogs.show_content') }}">Blog</a>
            </div>
        </div>
        
        <div class="auth-section">
            {% if not html_data["username"] %}
            <a href="#" class="btn btn-login">Login</a>
            <a href="#" class="btn btn-signup">Sign Up</a>
            {% endif %}
            <!-- <a href="#" class="btn btn-logout" style="display: none;">Logout</a> -->
            <div class="profile-container">
                <img src="{% if html_data['username'] %}{{ url_for('static', filename='images/profile_img.png') }}{% endif %}"
                    alt="Profile" class="profile-img" id="profileImg">
                <div class="dropdown-menu" id="dropdownMenu">
                    {% if html_data["username"] %}
                    <ul>
                        <li><a href="#"><i class="fas fa-user"></i> Profile</a></li>
                        <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
                        <li><a href="#"><i class="fas fa-credit-card"></i> Billing</a></li>
                        <div class="divider"></div>
                        <li><a href="{{ url_for('home.logout') }}"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                    </ul>
                    {% else %}
                    <ul>
                        <li><p style="color: blue; padding: 5px;">Please Login</p></li>
                    </ul>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Login to Your Account</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm" method="POST" action="{{ url_for('home.login') }}">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" name="loginEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" name="loginPassword" placeholder="Enter your password" required>
                    </div>
                    <div class="form-footer">
                        <a href="#">Forgot your password?</a>
                        <button class="btn btn-secondary" id="closeLogin">Cancel</button>
                        <button type="submit" class="btn btn-primary" id="submitLogin">Login</button>
                    </div>
                </form>
                <div class="social-login">
                    <p>Or login with</p>
                    <div class="social-buttons">
                        <div class="social-btn google-btn">
                            <i class="fab fa-google"></i>
                        </div>
                        <div class="social-btn facebook-btn">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="social-btn github-btn">
                            <i class="fab fa-github"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create an Account</h2>
                <button class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail">Email Address</label>
                        <input type="email" id="signupEmail" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" placeholder="Create a password" required>
                    </div>
                    <div class="form-group">
                        <label for="signupConfirmPassword">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                </form>
                <div class="social-login">
                    <p>Or sign up with</p>
                    <div class="social-buttons">
                        <div class="social-btn google-btn">
                            <i class="fab fa-google"></i>
                        </div>
                        <div class="social-btn facebook-btn">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="social-btn github-btn">
                            <i class="fab fa-github"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="closeSignup">Cancel</button>
                <button class="btn btn-primary" id="submitSignup">Sign Up</button>
            </div>
        </div>
    </div>

    <!-- Ticker Bar (visible on Ticker page) -->
    {% if active_page == 'ticker' %}
    <div class="ticker-container">
        <div class="ticker">
            <div class="ticker-item">
                <span class="symbol">AAPL</span>
                <span class="price">$175.34</span>
                <span class="change">+1.2%</span>
            </div>
            <div class="ticker-item">
                <span class="symbol">MSFT</span>
                <span class="price">$337.69</span>
                <span class="change">+0.8%</span>
            </div>
            <div class="ticker-item">
                <span class="symbol">GOOGL</span>
                <span class="price">$139.93</span>
                <span class="change negative">-0.5%</span>
            </div>
            <div class="ticker-item">
                <span class="symbol">AMZN</span>
                <span class="price">$145.18</span>
                <span class="change">+2.1%</span>
            </div>
            <div class="ticker-item">
                <span class="symbol">TSLA</span>
                <span class="price">$240.45</span>
                <span class="change negative">-1.7%</span>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Sidebar Menu -->
    <div class="sidebar">
        <ul class="sidebar-menu">
            <li><a href="{{ url_for('home.home') }}"><i class="fas fa-home"></i> Home</a></li>
            <li><a href="{{ url_for('home.ticker') }}"><i class="fas fa-chart-line"></i> Ticker</a></li>
            <li class="has-submenu">
                <a href="#"><i class="fas fa-box"></i> Products</a>
                <ul class="submenu">
                    <li><a href="#">Ticker</a></li>
                    <li><a href="#">Algo Trade</a></li>
                    <li><a href="#">Portfolio Tracker</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a href="#"><i class="fas fa-cogs"></i> Services</a>
                <ul class="submenu">
                    <li><a href="#">Python Utility</a></li>
                    <li><a href="#">Cloud (GCP, AWS, Azure)</a></li>
                    <li><a href="#">AI/ML</a></li>
                    <li><a href="#">GenAI</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a href="#"><i class="fas fa-info-circle"></i> About Us</a>
                <ul class="submenu">
                    <li><a href="#">Company History</a></li>
                    <li><a href="#">Our Team</a></li>
                    <li><a href="#">Careers</a></li>
                </ul>
            </li>
            <li><a href="#"><i class="fas fa-phone"></i> Contact</a></li>
            <li><a href="#"><i class="fas fa-blog"></i> Blog</a></li>
            <li><a href="#"><i class="fas fa-images"></i> Gallery</a></li>
            <li><a href="#"><i class="fas fa-file-contract"></i> Terms of Service</a></li>
        </ul>
    </div>

    <!-- Overlay -->
    <div class="overlay"></div>

    <!-- Main Content -->
    <div class="content">
        {% block content %}

        {% endblock %}
        
        
        {% if active_page == 'trade' %}
        <div class="content-box">
            <h2>Trading Interface</h2>
            <p>This would be your trading platform interface with charts, order forms, and portfolio information.</p>
        </div>
        {% endif %}
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>